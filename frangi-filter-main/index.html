<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frangi Filter - GPU Vessel Detection</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <h1>üî¨ Frangi Vesselness Filter</h1>
                <p>Real-time GPU-accelerated vessel and line detection</p>
            </div>
        </header>
        
        <div class="main-layout">
            <div class="canvas-container">
                <canvas id="canvas" width="1024" height="1024"></canvas>
                <div class="info-overlay">
                    <div class="info-item">FPS: <span id="fps">60</span></div>
                    <div class="info-item">Resolution: <span id="resolution">1024x1024</span></div>
                </div>
            </div>
            
            <aside class="sidebar">
                <div class="panel">
                    <h3>Processing</h3>
                    
                    <div class="control">
                        <label>Sigma (Scale)</label>
                        <div class="slider-group">
                            <input type="range" id="sigma" min="0.5" max="10.0" step="0.01" value="1.5">
                            <span class="value" id="sigmaValue">1.5</span>
                        </div>
                        <p class="help">Gaussian blur scale. Lower = thin structures, Higher = thick structures</p>
                    </div>
                    
                    <div class="control">
                        <label>Alpha (Plate Sensitivity)</label>
                        <div class="slider-group">
                            <input type="range" id="alpha" min="0.1" max="5.0" step="0.01" value="0.5">
                            <span class="value" id="alphaValue">0.5</span>
                        </div>
                        <p class="help">Sensitivity to plate-like structures. Lower = stricter</p>
                    </div>
                    
                    <div class="control">
                        <label>Gamma (Contrast)</label>
                        <div class="slider-group">
                            <input type="range" id="gamma" min="0.1" max="5" step="0.05" value="8.0">
                            <span class="value" id="gammaValue">8.0</span>
                        </div>
                        <p class="help">Contrast threshold. Higher = more sensitive to weak structures</p>
                    </div>
                </div>
                
                <div class="panel">
                    <h3>Visualization</h3>
                    <select id="visualMode" class="select-control">
                        <option value="0">Vesselness (B/W)</option>
                        <option value="1">Heat Map</option>
                        <option value="2">Gradient</option>
                    </select>
                </div>
                
                <div class="panel">
                    <h3>Image</h3>
                    <div class="file-input-wrapper">
                        <input type="file" id="imageInput" accept="image/*">
                        <button id="loadImageBtn" class="btn btn-primary">Load Image</button>
                    </div>
                    <button id="resetBtn" class="btn btn-secondary">Reset</button>
                    <button id="downloadBtn" class="btn btn-accent">Download PNG</button>
                </div>
                
                <div class="panel">
                    <h3>Presets</h3>
                    <button class="btn btn-preset" data-preset="thin">Thin Vessels</button>
                    <button class="btn btn-preset" data-preset="medium">Medium Lines</button>
                    <button class="btn btn-preset" data-preset="thick">Thick Roads</button>
                    <button class="btn btn-preset" data-preset="sensitive">High Sensitivity</button>
                </div>
                
                <div class="panel info-panel">
                    <h3>‚ÑπÔ∏è Help</h3>
                    <p>The Frangi filter detects vessel-like and line-like structures using the Hessian matrix and eigenvalue analysis.</p>
                    <p><strong>Try:</strong> Load a medical image or satellite photo for best results!</p>
                </div>
            </aside>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/frangi-filter.js"></script>
</body>
</html>